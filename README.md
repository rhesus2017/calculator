# IAMDT

## 실행 방법

- 전달받은 url로 레포지토리를 로컬에 복사합니다.
- 다음 아래 명령어를 터미널에 실행시킵니다.

```
npm install
```

```
npm start
```

<br/>

## 과제에 대한 문제 정의 및 해결 방법

- 계산이 완료되기 전까지 연산식을 어떻게 보관해야할까?
  - 마지막 '='을 눌렀을 때 최종 결과를 뽑아낼 수 있도록 그동안 선택했던 연산자, 비연산자(이하 요소)들을 가지고 있어야 한다고 생각했습니다.
  - 제가 선택한 방법은 배열이었습니다. 요소를 선택할 때마다 가장 뒤에 넣어줘야하고, 특정 상황에 따라서 이전에 입력 된 요소와 결합하거나 수정을 해야하는 경우가 많을거라고 생각했기 때문입니다. 배열이 이러한 작업에 제일 적합하다고 생각했습니다.
  - 또한, 계산기의 특성 상 선택한 요소와 이전에 입력 된 요소와의 상호작용만 생각하면 되기 때문에 마지막 요소에 접근이 쉬운 배열을 선택했습니다.
    <br/>
    <br/>
- 배열에 연산식을 구축했을 때 계산 방법은?
  - 문자열을 스크립트 코드로 실행시켜주는 new Function()을 사용했습니다. 배열 안 요소를 문자열로 합친 뒤, new Function()을 통해 연산 결과값을 리턴받았습니다.

## 구현에 필요한 정보(요구사항이나 제한, 제약 등)

- Infinity 또는 -Infinity 발생
  - 0으로 나누었을 때 생기는 문제로 배열과 결과값을 초기화 시키고 "입력하신 내용은 계산할 수 없습니다." 라는 메세지를 표출했습니다.
- % 또는 +/- 를 눌렀을 때 숫자가 아니라면?
  - 소수점일 경우 가장 최근 숫자를 정수처리하고 계산했고, 연산자일 경우 연산자 무시 후 계산했습니다.
- 숫자를 선택했을 때 전에 선택했던 요소가 0이라면?
  - Number(047) = 47으로 변환되는 것을 이용하기 위해 숫자가 아닌 요소들은 배열에 담을 때 ' + ', ' . ' 등으로 담았습니다. 현재 선택된 값을 보여줄 떄는 Number()을 이용해 앞에 0을 지워줬고, 최종 결과값을 보여줄 때는 배열을 문자열로 바꾼 뒤 split(' ')로 숫자와 숫자가 아닌 것을 다시 한번 배열로 바꿨습니다. 그리고 해당 배열을 반복문을 이용해 각 요쇼에 접근하여 숫자의 경우 Number()처리를 했습니다.
- 소수점을 선택했을 때 이전에 선택한 요소가 숫자가 아니거나 이미 실수라면?
  - 이전 요소를 체크해 숫자임과 동시에 소수점을 포함하지 않는 경우에만 소수점을 선택할 수 있도록 구현했습니다.
- 연산자를 선택했을 때 이전에 선택한 요소가 숫자가 아니라면?
  - 소수점일 경우 가장 최근 숫자를 정수처리하고 계산했고, 연산자일 경우 이전 연산자를 새로 입력한 연산자로 대체했습니다.
- 1000 단위로 콤마 처리
  - 이에 대한 요구사항이 없어서 toLocalString으로 콤마를 구현했고, 현재 값의 소수점 자리를 개수를 계산해 minimumFractionDigits 값으로 넣었습니다.
- 최종 결과값 도출 후 다음 계산
  - 일반적으로 최종 결과값 도출 후 피연산자가 선택되면 새로운 계산 시작, 연산자가 선택되면 해당 결과값에서 계산이 진행되지만 "C버튼으로 상태를 하기 전에는(?) 현 상태를 유지한 채 계산을 누진합니다"라는 과제 안내가 있어 피연산자 선택 시 해당 결과값의 일의 자리에 삽입했습니다.
- 자바스크립트 연산 오작동
  - ex 49.9 _ 9, 19.9 _ 9
  - 컴퓨터로 숫자를 표현하는데는 한계가 있고 10진수로 표현되는 소수를 2진수로 표현하려면 몇몇의 경우 무한소수가 발생합니다. 무한수를 유한하게 표현하려다보니 미세한 값들이 초과되거나 손실되어 계산오류가 일어납니다. PHP, Java, C, Perl, Ruby, Python 등등에서도 발생하는 오류입니다. Big.js, BigNumber.js 라이브러리를 활용하면 좀 더 안전하게 수학계산을 할 수 있습니다.
